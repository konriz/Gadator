<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>User details</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<nav th:insert="~{header :: navigation}"/>

<h1>User details</h1>
<div>
    <div th:if="${user}" th:object="${user}">
        <h2 th:text="*{name}">User Name</h2>
        <p th:text="*{email}">User email</p>
        <div id="messages-count">
            Messages posted:
            <p th:text="${#lists.size(messages)}"></p>
        </div>
        <div th:if="${#authentication.getPrincipal().getUsername()} == 'admin'">
            <a th:href="@{*{name} + '/delete'}">Delete account</a>
        </div>

    </div>
    <div th:unless="${user}">
        <h2>No such user!</h2>
    </div>
</div>



<div th:insert="~{footer :: footer}"/>

</body>
</html>